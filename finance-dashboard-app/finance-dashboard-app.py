# -*- coding: utf-8 -*-
"""
Created on Wed Jun  2 14:43:03 2021

@author: arianna.parisi
"""

import streamlit as st
import pandas as pd
import datetime 
from PIL import Image
import plotly.graph_objects as go
import pandas_datareader as pdr
import urllib.request

st.write("""
         Finance data dashboard App
         """)
image_header = "data:image/jpeg;base64,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"

urllib.request.urlretrieve(
  image_header,
   "header.png")

image = Image.open("header.png")

st.image(image, use_column_width=True)

st.sidebar.header("User input")

def get_input():
    start_date = st.sidebar.text_input("Start date", "2020-01-01")
    end_date = st.sidebar.text_input("Start date", "2021-01-01")
    symbol = st.sidebar.text_input("Symbol", "AAPL")
    return start_date, end_date, symbol

def get_symbol_name(symbol):
    return symbol.upper()

def get_data(symbol, start, end):
    return pdr.DataReader(symbol.upper(), 'yahoo', start, end)

start, end, symbol = get_input()
df = get_data(symbol, start, end)
symbol_name = get_symbol_name(symbol)

fig = go.Figure(
    data = [go.Candlestick(
        x = df.index,
        open = df['Open'],
        high = df['High'],
        low = df['Low'],
        close = df['Close'],
        increasing_line_color = 'green',
        decreasing_line_color = 'red'
        )]
    )


st.header(symbol_name + " data from " + start + " to " + end)
st.write(df)

st.header("Statistics")
st.write(df.describe())

st.header("Close price")
st.line_chart(df.Close)

st.header("Volume")
st.bar_chart(df.Volume)

st.header("Candlestick chart")
st.plotly_chart(fig)








